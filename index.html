<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Smartphone Pro: Fixed & Mobile Ready</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üì±</text></svg>">
    <style>
        body { margin: 0; background: #000; overflow: hidden; font-family: sans-serif; touch-action: none; }
        #ui { position: absolute; top: 20px; left: 20px; z-index: 100; background: rgba(0,0,0,0.85); padding: 15px; border-radius: 12px; color: white; border: 1px solid #444; width: 180px; pointer-events: auto; }
        input { width: 100%; cursor: pointer; margin: 10px 0; }
        label { font-size: 10px; color: #888; text-transform: uppercase; }
        .donate-btn { display: block; background: #f0c419; color: #000; text-align: center; padding: 10px; border-radius: 8px; text-decoration: none; font-weight: bold; font-size: 12px; transition: 0.3s; margin-top: 10px; }
        .donate-btn:hover { background: #ffdd00; transform: scale(1.02); }
    </style>
</head>
<body>

<div id="ui">
    <label>–ö–æ–ª—ñ—Ä –∫–æ—Ä–ø—É—Å—É</label>
    <input type="color" id="color" value="#333333">
    
    <label>–ü—Ä–æ–∑–æ—Ä—ñ—Å—Ç—å</label>
    <input type="range" id="alpha" min="0.1" max="1" step="0.1" value="1">

    <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #333;">
        <p style="font-size: 11px; color: #888; margin: 0 0 10px 0;">–ü–æ–¥–æ–±–∞—î—Ç—å—Å—è –ø—Ä–æ–µ–∫—Ç?</p>
        <a href="https://www.buymeacoffee.com/–¢–£–¢_–¢–í–û–Ñ_–ü–û–°–ò–õ–ê–ù–ù–Ø" target="_blank" class="donate-btn">
            ‚òï –ü—ñ–¥—Ç—Ä–∏–º–∞—Ç–∏ –∞–≤—Ç–æ—Ä–∞
        </a>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

<script>
    let scene, camera, renderer, phone, isDragging = false;
    let prevMouse = { x: 0, y: 0 };
    let phoneBody; // –û–∫—Ä–µ–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –º–µ—à –∫–æ—Ä–ø—É—Å—É –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

    init();
    animate();

    function init() {
        scene = new THREE.Scene();
        scene.background = new THREE.Color(0x050505);

        camera = new THREE.PerspectiveCamera(35, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.set(0, 0, 5.5);

        // –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è —Ä–µ–Ω–¥–µ—Ä–µ—Ä–∞
        renderer = new THREE.WebGLRenderer({ antialias: true, powerPreference: "high-performance" });
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2)); 
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        const mainLight = new THREE.DirectionalLight(0xffffff, 2);
        mainLight.position.set(5, 10, 7.5);
        scene.add(mainLight);

        const fillLight = new THREE.PointLight(0xffffff, 1.2);
        fillLight.position.set(-5, 0, 5);
        scene.add(fillLight);

        buildPhone();

        // –ü–æ–¥—ñ—ó –º–∏—à—ñ
        document.addEventListener('mousedown', () => isDragging = true);
        document.addEventListener('mouseup', () => isDragging = false);
        document.addEventListener('mousemove', handleMove);

        // –ü–æ–¥—ñ—ó —Ç–∞—á—Å–∫—Ä—ñ–Ω–∞ (–¥–ª—è —Å–º–∞—Ä—Ç—Ñ–æ–Ω—ñ–≤)
        document.addEventListener('touchstart', (e) => {
            isDragging = true;
            prevMouse = { x: e.touches[0].clientX, y: e.touches[0].clientY };
        }, { passive: false });
        document.addEventListener('touchend', () => isDragging = false);
        document.addEventListener('touchmove', (e) => {
            handleMove(e.touches[0]);
        }, { passive: false });
    }

    function handleMove(e) {
        if(isDragging && phone) {
            phone.rotation.y += (e.clientX - prevMouse.x) * 0.01;
            phone.rotation.x += (e.clientY - prevMouse.y) * 0.01;
        }
        prevMouse = { x: e.clientX, y: e.clientY };
    }

    function createRoundedShape(w, h, r) {
        const s = new THREE.Shape();
        s.moveTo(-w/2+r, -h/2); s.lineTo(w/2-r, -h/2);
        s.quadraticCurveTo(w/2, -h/2, w/2, -h/2+r); s.lineTo(w/2, h/2-r);
        s.quadraticCurveTo(w/2, h/2, w/2-r, h/2); s.lineTo(-w/2+r, h/2);
        s.quadraticCurveTo(-w/2, h/2, -w/2, h/2-r); s.lineTo(-w/2, -h/2+r);
        s.quadraticCurveTo(-w/2, -h/2, -w/2+r, -h/2);
        return s;
    }

    function buildPhone() {
        phone = new THREE.Group();

        const col = document.getElementById('color').value;
        const op = parseFloat(document.getElementById('alpha').value);
        const thick = 0.05, w = 1.1, h = 2.2, r = 0.18;

        const shape = createRoundedShape(w, h, r);
        const bodyGeom = new THREE.ExtrudeGeometry(shape, { depth: thick, bevelEnabled: true, bevelThickness: 0.01, bevelSize: 0.01 });
        const bodyMat = new THREE.MeshStandardMaterial({ color: col, metalness: 0.9, roughness: 0.1, transparent: true, opacity: op });
        
        phoneBody = new THREE.Mesh(bodyGeom, bodyMat);
        phoneBody.position.z = -thick/2;
        phone.add(phoneBody);

        // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –µ–∫—Ä–∞–Ω—É (–æ–¥–∏–Ω —Ä–∞–∑)
        const canvas = document.createElement('canvas');
        canvas.width = 512; canvas.height = 1024;
        const ctx = canvas.getContext('2d');
        ctx.fillStyle = '#000000';
        ctx.fillRect(0, 0, 512, 1024);
        ctx.fillStyle = '#00ff88';
        ctx.font = 'bold 90px Arial'; 
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillText('LOGIN', 256, 512);

        const screenTex = new THREE.CanvasTexture(canvas);
        const screenMat = new THREE.MeshPhongMaterial({ map: screenTex, shininess: 150, emissive: '#00ff88', emissiveIntensity: 0.3 });
        
        const screen = new THREE.Mesh(new THREE.PlaneGeometry(w - 0.08, h - 0.08), screenMat);
        screen.position.z = (thick/2) + 0.012; 
        phone.add(screen);

        // –î–µ—Ç–∞–ª—ñ (–¥–∏–Ω–∞–º—ñ–∫–∏, –ø–æ—Ä—Ç–∏, –∫–∞–º–µ—Ä–∏)
        const blackMat = new THREE.MeshBasicMaterial({color: 0x000000});
        const port = new THREE.Mesh(new THREE.BoxGeometry(0.18, 0.015, 0.04), blackMat);
        port.position.set(0, -h/2 - 0.01, 0);
        phone.add(port);

        for(let i = -3; i <= 3; i++) {
            if(i === 0) continue;
            const hole = new THREE.Mesh(new THREE.CircleGeometry(0.015, 8), blackMat);
            hole.position.set(i * 0.06 + (i > 0 ? 0.12 : -0.12), -h/2 - 0.01, thick/2);
            hole.rotation.x = Math.PI / 2;
            phone.add(hole);
        }

        const pwr = new THREE.Mesh(new THREE.BoxGeometry(0.015, 0.18, 0.04), blackMat);
        pwr.position.set(w/2 + 0.01, 0.4, 0);
        phone.add(pwr);

        const camBox = new THREE.Mesh(new THREE.BoxGeometry(0.42, 0.42, 0.04), blackMat);
        camBox.position.set(-0.25, 0.8, -thick/2 - 0.02);
        phone.add(camBox);

        for(let i=0; i<4; i++) {
            const lens = new THREE.Mesh(new THREE.CircleGeometry(0.075, 16), new THREE.MeshPhongMaterial({color: 0x080808, shininess: 200}));
            lens.position.set((i%2?-0.15:-0.35), (i<2?0.9:0.7), -thick/2 - 0.045);
            lens.rotation.y = Math.PI;
            phone.add(lens);
        }

        scene.add(phone);
    }

    // –ì–û–õ–û–í–ù–ê –û–ü–¢–ò–ú–Ü–ó–ê–¶–Ü–Ø: –ó–º—ñ–Ω–∞ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π –±–µ–∑ –ø–µ—Ä–µ—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤
    document.getElementById('color').oninput = (e) => {
        if (phoneBody) phoneBody.material.color.set(e.target.value);
    };

    document.getElementById('alpha').oninput = (e) => {
        if (phoneBody) phoneBody.material.opacity = parseFloat(e.target.value);
    };

    function animate() {
        requestAnimationFrame(animate);
        if (phone && !isDragging) {
            phone.rotation.y += 0.004;
            phone.position.y = Math.sin(Date.now() * 0.0015) * 0.05;
        }
        renderer.render(scene, camera);
    }

    window.onresize = () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    };
</script>
</body>
</html>
